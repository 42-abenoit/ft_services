Sending build context to Docker daemon  7.168kB
Step 1/8 : FROM alpine
latest: Pulling from library/alpine
ba3557a56b15: Pulling fs layer
ba3557a56b15: Verifying Checksum
ba3557a56b15: Download complete
ba3557a56b15: Pull complete
Digest: sha256:a75afd8b57e7f34e4dad8d65e2c7ba2e1975c795ce1ee22fa34f8cf46f96a3be
Status: Downloaded newer image for alpine:latest
 ---> 28f6e2705743
Step 2/8 : RUN apk update
 ---> Running in 53d54737eac6
fetch https://dl-cdn.alpinelinux.org/alpine/v3.13/main/x86_64/APKINDEX.tar.gz
fetch https://dl-cdn.alpinelinux.org/alpine/v3.13/community/x86_64/APKINDEX.tar.gz
v3.13.2-113-g0d00fc9b29 [https://dl-cdn.alpinelinux.org/alpine/v3.13/main]
v3.13.2-114-g9f9694e5f4 [https://dl-cdn.alpinelinux.org/alpine/v3.13/community]
OK: 13883 distinct packages available
Removing intermediate container 53d54737eac6
 ---> 95eb5c6cb899
Step 3/8 : RUN apk add influxdb
 ---> Running in 16c9851d7034
(1/1) Installing influxdb (1.8.3-r2)
Executing influxdb-1.8.3-r2.pre-install
Executing busybox-1.32.1-r3.trigger
OK: 206 MiB in 15 packages
Removing intermediate container 16c9851d7034
 ---> f8f8fee6a82e
Step 4/8 : RUN apk add telegraf
 ---> Running in 6cb9ce80192d
(1/1) Installing telegraf (1.17.0-r0)
Executing telegraf-1.17.0-r0.pre-install
Executing busybox-1.32.1-r3.trigger
OK: 295 MiB in 16 packages
Removing intermediate container 6cb9ce80192d
 ---> 7decb0f9cae3
Step 5/8 : COPY srcs /srcs
 ---> 678813881539
Step 6/8 : RUN sh /srcs/setup.sh
 ---> Running in 438b3b7aa2a7
[91mts=2021-03-22T13:17:43.796178Z lvl=info msg="InfluxDB starting" log_id=0T2XBgy0000 version=1.8.3 branch=1.8 commit=563e6c3d1a
ts=2021-03-22T13:17:43.796231Z lvl=info msg="Go runtime" log_id=0T2XBgy0000 version=go1.15.6 maxprocs=4
[0m[91mts=2021-03-22T13:17:43.875313Z lvl=info msg="Using data dir" log_id=0T2XBgy0000 service=store path=/var/lib/influxdb/data
ts=2021-03-22T13:17:43.875540Z lvl=info msg="Compaction settings" log_id=0T2XBgy0000 service=store max_concurrent_compactions=2 throughput_bytes_per_second=50331648 throughput_bytes_per_second_burst=50331648
ts=2021-03-22T13:17:43.875698Z lvl=info msg="Open store (start)" log_id=0T2XBgy0000 service=store trace_id=0T2XBhGl000 op_name=tsdb_open op_event=start
[0m[91mts=2021-03-22T13:17:43.875760Z lvl=info msg="Open store (end)" log_id=0T2XBgy0000 service=store trace_id=0T2XBhGl000 op_name=tsdb_open op_event=end op_elapsed=0.065ms
ts=2021-03-22T13:17:43.875885Z lvl=info msg="Opened service" log_id=0T2XBgy0000 service=subscriber
ts=2021-03-22T13:17:43.875910Z lvl=info msg="Starting monitor service" log_id=0T2XBgy0000 service=monitor
ts=2021-03-22T13:17:43.875915Z lvl=info msg="Registered diagnostics client" log_id=0T2XBgy0000 service=monitor name=build
ts=2021-03-22T13:17:43.875920Z lvl=info msg="Registered diagnostics client" log_id=0T2XBgy0000 service=monitor name=runtime
ts=2021-03-22T13:17:43.875923Z lvl=info msg="Registered diagnostics client" log_id=0T2XBgy0000 service=monitor name=network
ts=2021-03-22T13:17:43.875931Z lvl=info msg="Registered diagnostics client" log_id=0T2XBgy0000 service=monitor name=system
ts=2021-03-22T13:17:43.875942Z lvl=info msg="Starting precreation service" log_id=0T2XBgy0000 service=shard-precreation check_interval=10m advance_period=30m
ts=2021-03-22T13:17:43.875949Z lvl=info msg="Starting snapshot service" log_id=0T2XBgy0000 service=snapshot
ts=2021-03-22T13:17:43.875954Z lvl=info msg="Starting continuous query service" log_id=0T2XBgy0000 service=continuous_querier
ts=2021-03-22T13:17:43.876224Z lvl=info msg="Storing statistics" log_id=0T2XBgy0000 service=monitor db_instance=_internal db_rp=monitor interval=10s
ts=2021-03-22T13:17:43.876296Z lvl=info msg="Starting HTTP service" log_id=0T2XBgy0000 service=httpd authentication=false
ts=2021-03-22T13:17:43.876305Z lvl=info msg="opened HTTP access log" log_id=0T2XBgy0000 service=httpd path=stderr
ts=2021-03-22T13:17:43.876517Z lvl=info msg="Listening on HTTP" log_id=0T2XBgy0000 service=httpd addr=[::]:8086 https=false
ts=2021-03-22T13:17:43.876626Z lvl=info msg="Starting retention policy enforcement service" log_id=0T2XBgy0000 service=retention check_interval=30m
ts=2021-03-22T13:17:43.876857Z lvl=info msg="Sending usage statistics to usage.influxdata.com" log_id=0T2XBgy0000
[0m[91mts=2021-03-22T13:17:43.877968Z lvl=info msg="Listening for signals" log_id=0T2XBgy0000
[0m[91m[httpd] 127.0.0.1 - - [22/Mar/2021:13:17:44 +0000] "GET /ping HTTP/1.1" 204 0 "-" "InfluxDBShell/1.8.3" fcdae228-8b10-11eb-8001-0242ac110006 99
[0m[91m[httpd] 127.0.0.1 - - [22/Mar/2021:13:17:44 +0000] "GET /ping HTTP/1.1" 204 0 "-" "InfluxDBShell/1.8.3" fcdf2ad5-8b10-11eb-8002-0242ac110006 40
[0m[91mts=2021-03-22T13:17:44.316313Z lvl=info msg="Executing query" log_id=0T2XBgy0000 service=query query="CREATE DATABASE telegraf"
[0m[91mts=2021-03-22T13:17:44.395865Z lvl=info msg="Executing query" log_id=0T2XBgy0000 service=query query="CREATE USER telegrafuser WITH PASSWORD [REDACTED]"
[0m[91m[httpd] 127.0.0.1 - - [22/Mar/2021:13:17:44 +0000] "POST /query?chunked=true&db=&epoch=ns&q=create+database+telegraf%3B%0Acreate+user+telegrafuser+with+password+%5BREDACTED%5D%0A HTTP/1.1" 200 62 "-" "InfluxDBShell/1.8.3" fcdf48ff-8b10-11eb-8003-0242ac110006 299751
[0m
Removing intermediate container 438b3b7aa2a7
 ---> 42f9bf849018
Step 7/8 : CMD sh /srcs/run.sh
 ---> Running in 3c321a111807
Removing intermediate container 3c321a111807
 ---> 4a4b26ed6ef0
Step 8/8 : EXPOSE 8086
 ---> Running in 77f118c03b70
Removing intermediate container 77f118c03b70
 ---> 21b7f6a8c1f2
Successfully built 21b7f6a8c1f2
Successfully tagged influxdb-local:latest
